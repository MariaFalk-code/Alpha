@using WebApp.Models.ViewModels
@{
    var currentUser = ViewData["CurrentUser"] as TeamMemberDisplay;
}
@if (currentUser != null)
{
    <img alt="user avatar"
         src="@currentUser.ProfileImageUrl"
         class="relative img-rounded dropdown-account ml-8"
         data-popover-target="profile-menu" />

    <ul role="menu"
        data-popover="profile-menu"
        data-popover-placement="bottom"
        data-popover-mount="opacity-100 pointer-events-auto translate-y-[0]"
        data-popover-unmount="opacity-0 pointer-events-none translate-y-[-250px]"
        class="absolute z-10 min-w-[180px] overflow-auto rounded-lg border border-slate-200 bg-white p-2 shadow-md focus:outline-none
               translate-x-[-5px] opacity-0 pointer-events-none translate-y-[-250px] transition-all ease-in-out duration-300">

        <li role="menuitem" class="li-item bg-slate-100">
            <img alt="user avatar"
                 src="@currentUser.ProfileImageUrl"
                 class="relative img-rounded" />
            <p class="text-slate-800 font-medium ml-2">
                @currentUser.FullName
            </p>
        </li>

        <hr class="my-2 border-slate-200" role="menuitem" />

        <li role="menuitem">
            <form method="post" asp-controller="Auth" asp-action="Logout">
                @Html.AntiForgeryToken()
                <button type="submit" class="flex li-item">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 text-slate-400">
                        <path fill-rule="evenodd" d="M3 4.25A2.25..." clip-rule="evenodd" />
                        <path fill-rule="evenodd" d="M19 10a.75..." clip-rule="evenodd" />
                    </svg>
                    <p class="text-slate-800 font-medium ml-2">Sign Out</p>
                </button>
            </form>
        </li>
    </ul>
}
